<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>中央キャンパス全体図</title>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css" />

    <link rel="stylesheet" href="css.css" />
  </head>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const map = document.getElementById('map-image');
      const container = map.parentElement;

      map.addEventListener('click', function (e) {
        const rect = map.getBoundingClientRect();
        const x = Math.round(e.clientX - rect.left);
        const y = Math.round(e.clientY - rect.top);

        console.log(`クリック位置: left: ${x}px; top: ${y}px`);

        // 既存のマーカーを削除（あれば）
        const oldMarker = document.querySelector('.marker-dot');
        if (oldMarker) oldMarker.remove();

        // 新しいマーカーを作成
        const marker = document.createElement('div');
        marker.className = 'marker-dot';
        marker.style.left = `${x - 5}px`; // 中心を合わせるために-5
        marker.style.top = `${y - 5}px`;

        container.appendChild(marker);
      });
    });
  </script>

  <body>
    <div class="header">
      <img src="img/muses-logo.jpg" alt="MUSES" style="height: 40px; width: 200px" />
      <div>武庫川　花子 さん</div>
      <div class="top-buttons">
        <div class="pc">PC版</div>
        <div class="time">残り<br />約40分</div>
        <div class="logout">ログアウト</div>
      </div>

      <div class="info-bar">📢 新着情報</div>
      <div class="notice">📄 未読掲示が 3件 あります！</div>

      <div class="nav">
        <button onclick="location.href='index.html'">HOME＞</button>
        <button onclick="location.href='campus-map.html'">キャンパス選択＞</button>
      </div>
    </div>

    <div class="campus-title">中央キャンパス 全体図</div>

    <div class="map-wrapper">
      <div class="map-container">
        <img src="img/camps_map.jpg" id="map-image" class="main-map" alt="中央キャンパスマップ" />

        <!-- 東館の透明ボタン -->
        <button
          class="building-btn"
          style="top: 540px; left: 606px; width: 40px; height: 20px"
          onclick="location.href='higashikan.html'"
          title="東館"
        ></button>

        <!-- アイコンたち -->
        <img src="img/bus.png" class="map-icon" style="top: 540px; left: 550px" />
        <img src="img/water.png" class="map-icon" style="left: 224px; top: 630px" />
        <img src="img/water.png" class="map-icon" style="left: 300px; top: 720px" />
      </div>
    </div>

    <!-- ★ 追加：バス時刻表ボタン -->

    <button
      onclick="location.href='bus-timetable.html'"
      style="
        background-color: #0055aa;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 6px;
        margin-top: 20px;
        margin-left: 20px;
        display: inline-block;
      "
    >
      バス時刻表
    </button>

    <div class="footer">
      <div class="nav">
        <button onclick="location.href='index.html'">HOME ＞</button>
      </div>

      <div><strong>Information</strong></div>
      <div class="info-box">
        <!-- 情報表示欄 -->
      </div>
    </div>
  </body>
</html>
